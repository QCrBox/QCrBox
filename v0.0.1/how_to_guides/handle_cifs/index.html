
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://qcrbox.github.io/QCrBox/latest/how_to_guides/handle_cifs/">
      
      
        <link rel="prev" href="../use_qcb_to_interact_with_and_manage_qcrbox/">
      
      
        <link rel="next" href="../../tutorials/contents/">
      
      
      <link rel="icon" href="../../images/logo_black.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.15">
    
    
      
        <title>Working with cif files in QCrBox - Quantum Crystallography Toolbox (QCrBox)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../qcrbox_custom_styling.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#working-with-cif-files-in-qcrbox" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Quantum Crystallography Toolbox (QCrBox)" class="md-header__button md-logo" aria-label="Quantum Crystallography Toolbox (QCrBox)" data-md-component="logo">
      
  <img src="../../images/logo_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Quantum Crystallography Toolbox (QCrBox)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Working with cif files in QCrBox
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../contents/" class="md-tabs__link">
          
  
  How to guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/contents/" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../technical_reference/contents/" class="md-tabs__link">
          
  
  Technical reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../background_info/contents/" class="md-tabs__link">
          
  
  Background info

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ADRs/" class="md-tabs__link">
          
  
  Architectural Decision Records

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../CHANGELOG/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Quantum Crystallography Toolbox (QCrBox)" class="md-nav__button md-logo" aria-label="Quantum Crystallography Toolbox (QCrBox)" data-md-component="logo">
      
  <img src="../../images/logo_white.png" alt="logo">

    </a>
    Quantum Crystallography Toolbox (QCrBox)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    How to guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            How to guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../set_up_a_dev_environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up a development environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use_qcb_to_interact_with_and_manage_qcrbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the `qcb` command line tool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Working with cif files in QCrBox
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Working with cif files in QCrBox
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#unified-cif-the-transfer-format" class="md-nav__link">
    <span class="md-ellipsis">
      Unified cif: The transfer format
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nomenclature-in-this-howto" class="md-nav__link">
    <span class="md-ellipsis">
      Nomenclature in this HowTo:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-to-unified-cif-using-the-qcrboxtools-container" class="md-nav__link">
    <span class="md-ellipsis">
      Converting to Unified CIF using the QCrBoxtools container
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-cif-files-using-the-qcrboxtools-python-library" class="md-nav__link">
    <span class="md-ellipsis">
      Converting CIF files using the QCrBoxTools Python Library
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Converting CIF files using the QCrBoxTools Python Library">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-command-line-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Using the command line interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-python-library" class="md-nav__link">
    <span class="md-ellipsis">
      Using the python library.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-qcrbox-configyml-files" class="md-nav__link">
    <span class="md-ellipsis">
      Working with QCrBox config*.yml files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with QCrBox config*.yml files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cif-entry-sets-in-a-yaml-file" class="md-nav__link">
    <span class="md-ellipsis">
      CIF entry sets in a YAML file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/contents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/wrap_external_command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating a CLI program into QCrBox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/wrap_python_command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating Python functionality into QCrBox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/examples/example_olex2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interacting with Olex2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/examples/example_xharpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interacting with XHARPy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/examples/example_eval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interacting with Eval14/15
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/examples/example_crystal_explorer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interacting with CrystalExplorer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/examples/example_qcrboxtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interacting with QCrBoxTools
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Technical reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Technical reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical_reference/contents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contents
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Background info
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Background info
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background_info/contents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background Information
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architectural Decision Records
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Architectural Decision Records
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADRs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What are ADRs?
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="working-with-cif-files-in-qcrbox">Working with cif files in QCrBox<a class="headerlink" href="#working-with-cif-files-in-qcrbox" title="Permanent link">#</a></h1>
<p>QCrBox transfers data between containers using the crystallographic information file format (CIF). However, cif supports a number of aliases for the same entry. In addition some entries have been deprecated over the years. This provides a challenge for interoperability as one program within QCrBox might require a specific cif entry format for its input, while the software package that output the information might use another.</p>
<h2 id="unified-cif-the-transfer-format">Unified cif: The transfer format<a class="headerlink" href="#unified-cif-the-transfer-format" title="Permanent link">#</a></h2>
<p>As such we decided to convert all cif files to a state containing a unique set of keywords and split standard uncertainties (SUs).
For the keyword names, we used the base definition of the current IUCr cif dictionaries, such as the <a href="https://github.com/COMCIFS/cif_core/blob/master/cif_core.dic">cif_core.dic</a>. Additionally, standard uncertainties are separated into their own keywords. This ensures that numerical convergence is actually possible.</p>
<p>The following example entries should illustrate the convention:</p>
<div class="highlight"><pre><span></span><code>data_old_format

_cell_length_a     10.032(3)
_cell_length_b      9.147(4)


data_unified_format

_cell.length_a      10.032
_cell.length_a_su    0.003
_cell.length_b       9.147
_cell.length_b_su    0.004
</code></pre></div>
<p>QCrBox does offer tools to convert between formats to make integration of software using any format as seamless as possible.</p>
<h2 id="nomenclature-in-this-howto">Nomenclature in this HowTo:<a class="headerlink" href="#nomenclature-in-this-howto" title="Permanent link">#</a></h2>
<p><strong>Unified CIF</strong>: See above</p>
<p><strong>Specific CIF</strong> CIF file create using specific keywords in a specific format, this can be the DDL1 style of keywords but it does not have to be.</p>
<p><strong>Specific CIF entry</strong>: A name of a cif entry <strong>in any convention</strong> that is contained within the CIF dictionaries. <code>_atom_site_fract_x</code> and <code>_atom_site.fract_x</code> are both valid specific cif entries.</p>
<p><strong>Required CIF entry</strong>: A specific CIF entry that is required to run a script or program. The QCrBoxTools functions will include the entry in the newly produced CIF file, if the unified CIF equivalent of that keyword is found. Otherwise they will throw an error.</p>
<p><strong>Optional CIF entry</strong>: A specific CIF entry that might be used by a script or program. Will be included if the unified CIF equivalent is present and otherwise ignored.</p>
<p><strong>Split SUs</strong>: Splitting the standard uncertainties into their own keywords.</p>
<p><strong>Merge SUs</strong>: Combining a keyword with a standard uncertainty keyword to get the bracket notation.</p>
<p><strong>Custom CIF categories</strong>: Programs or organisations might define their own CIF entries in their own namespace. The old convention is using an underscore after the namespace <em>e.g.</em> <code>_qcrbox_my_value</code>, while the new convention is <code>qcrbox.my_value</code>. Listing the categories as a custom category without a leading underscore will insure the correct back and forth conversion between the two.</p>
<h2 id="converting-to-unified-cif-using-the-qcrboxtools-container">Converting to Unified CIF using the QCrBoxtools container<a class="headerlink" href="#converting-to-unified-cif-using-the-qcrboxtools-container" title="Permanent link">#</a></h2>
<p>If you want to convert your cif file into the unified cif format without any more knowledge, there is an <a href="https://github.com/QCrBox/QCrBox/blob/dev/wrapper/example_qcrboxtools.ipynb">example IPython notebook</a> that shows you how to do that, by using the exposed <code>to_unified_cif</code> command of that container.</p>
<h2 id="converting-cif-files-using-the-qcrboxtools-python-library">Converting CIF files using the QCrBoxTools Python Library<a class="headerlink" href="#converting-cif-files-using-the-qcrboxtools-python-library" title="Permanent link">#</a></h2>
<p>The QCrBoxTools library is available within the python environment of every QCrBox container. It can be called either via a command line interface or within a python script. Additionally you can also install the library outside of QCrBox by getting the source <a href="https://github.com/QCrBox/QCrBoxTools">here</a> and installing it into your local python environment.</p>
<h3 id="using-the-command-line-interface">Using the command line interface<a class="headerlink" href="#using-the-command-line-interface" title="Permanent link">#</a></h3>
<p>The command line interface can be called by invoking:
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>qcrboxtools.cif<span class="w"> </span>&lt;cmd&gt;<span class="w"> </span>&lt;input_cif_path&gt;<span class="w"> </span>&lt;output_cif_path&gt;<span class="w"> </span>&lt;ARGS&gt;
</code></pre></div>
Invoke with <code>--help</code> instead of arguments to see the available options.</p>
<h3 id="using-the-python-library">Using the python library.<a class="headerlink" href="#using-the-python-library" title="Permanent link">#</a></h3>
<p>The required functions are located within the <code>qcrboxtools.cif.cif2cif</code> module if you want to work from and to files and in <code>qcrboxtools.cif.entries</code> and <code>qcrboxtools.cif.uncertainties</code> if you want to work with <code>iotbx.cif</code> objects. The docstrings of the functions should be covering the use cases. If they are unclear, please raise a GitHub issue.</p>
<h2 id="working-with-qcrbox-configyml-files">Working with QCrBox <code>config*.yml</code> files<a class="headerlink" href="#working-with-qcrbox-configyml-files" title="Permanent link">#</a></h2>
<p>This section will focus on how to work with the CIF capabilities of the yaml file. For parameter definition look into the <a href="../../tutorials/wrap_python_command/">tutorial</a>.</p>
<p>The yaml file can contain the following options in a command:</p>
<div class="highlight"><pre><span></span><code><span class="nt">commands</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my_command&quot;</span>
<span class="w">    </span><span class="nt">implemented_as</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CLI/python_callable/GUI&quot;</span>
<span class="w">    </span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Definition covered in tutorial</span>
<span class="w">    </span><span class="nt">required_cif_entries</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;_some_entry&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;_some_other_entry&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">optional_cif_entries</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;_some_entry_su&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">required_cif_entry_sets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;cell_data&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;diffraction_data&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">optional_cif_entry_sets</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;atom_data&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">merge_cif_su</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Yes</span>
<span class="w">    </span><span class="nt">custom_cif_categories</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;iucr&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;shelx&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>Let us go through the options line by line:</p>
<ul>
<li>
<p><strong><code>name</code></strong>: The QCrBoxTools function working with CIF require a command name or command. This is that name</p>
</li>
<li>
<p><strong><code>required_cif_entries</code></strong>: List of specific CIF entries to include (see <a href="#nomenclature-in-this-howto">Nomenclature</a>)</p>
</li>
<li>
<p><strong><code>optional_cif_entries</code></strong>: List of specific CIF entries to include when present (see <a href="#nomenclature-in-this-howto">Nomenclature</a>)</p>
</li>
<li>
<p><strong><code>required_cif_entry_sets</code></strong>: List of CIF entry sets to include. All required entries will be treated as required and optional entries will be included as optional. (For definition of entry sets see next section).</p>
</li>
<li>
<p><strong><code>optional_cif_entry_sets</code></strong>: List of CIF entry sets to include. All required entries and optional entries will be included as optional. (For definition of entry sets see next section).</p>
</li>
<li>
<p><strong><code>merge_cif_su</code></strong>: If set to <code>Yes</code>, the standard uncertainty entries will be merged with the base entry using bracket notation, <strong>unless the standard uncertainty is requested separately as its own entry</strong>. So in the example above <code>_some_entry</code> would not be merged with a present standard uncertainty entry, both <code>_some_entry</code> and <code>_some_entry_su</code> are included separately. <code>_some_other_entry</code> would be merged if an SU was present.</p>
</li>
<li>
<p><strong><code>custom_cif_categories</code></strong>: List of custom CIF categories to include in the output cif file (see <a href="#nomenclature-in-this-howto">Nomenclature</a>).</p>
</li>
</ul>
<h3 id="cif-entry-sets-in-a-yaml-file">CIF entry sets in a YAML file<a class="headerlink" href="#cif-entry-sets-in-a-yaml-file" title="Permanent link">#</a></h3>
<p>In order to keep the command definition somewhat compact and not redefine entries shared between commands, the YML also contains the possibility to define cif entry sets. The syntax is:</p>
<div class="highlight"><pre><span></span><code><span class="nt">cif_entry_sets</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cell_data&quot;</span>
<span class="w">    </span><span class="nt">required </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;_required_entry&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">optional </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;_optional_entry&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>The <code>name</code> is the name of the set, which can be used in the command definition. The <code>required</code> and <code>optional</code> lists are lists of specific CIF entries to include in the set (see <a href="#nomenclature-in-this-howto">Nomenclature</a>).</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "navigation.expand", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.suggest", "toc.integrate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.bd41221c.min.js"></script>
      
        <script src="../../assets/_markdown_exec_pyodide.js"></script>
      
    
  </body>
</html>